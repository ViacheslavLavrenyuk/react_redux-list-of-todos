{"version":3,"sources":["store.ts","constants.ts","loadData.ts","actionCreators.ts","Todo/Todo.tsx","TodoList/TodoList.tsx","App.tsx","index.tsx"],"names":["initialState","todos","store","createStore","state","action","type","filter","todo","id","sort","a","b","user","name","localeCompare","title","Number","completed","API_URL","loadData","url","fetch","then","res","json","loadTodos","loadUsers","sortByName","sortByTitle","sortByCompleted","mapDispatchToProps","onRemoveTodo","value","connect","className","onClick","dispatch","handleSortByName","handleSortByTitle","handleSortByCompleted","props","map","key","setTodos","todoWithUser","useState","isLoading","setIsLoading","length","Promise","all","todosFromApi","usersFromApi","find","person","userId","disabled","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3d0a78aa.chunk.js","sourcesContent":["import { Action, Reducer, createStore } from 'redux';\nimport { TodosWithUsers } from './types';\nimport {\n  LOAD_TODOS,\n  REMOVE_TODO,\n  SORT_BY_NAME,\n  SORT_BY_TITLE,\n  SORT_BY_COMPLETED,\n} from './constants';\n\nexport interface InitialState {\n  todos: TodosWithUsers | [];\n}\n\ninterface DispatchAction extends Action {\n  type: string;\n  todos: TodosWithUsers;\n  id?: number;\n}\n\nconst initialState: InitialState = {\n  todos: [],\n};\n\nconst reduser: Reducer<InitialState, DispatchAction> = (state = initialState, action) => {\n  switch (action.type) {\n    case LOAD_TODOS:\n      return {\n        todos: action.todos,\n      };\n    case REMOVE_TODO:\n      return {\n        todos: [...state.todos].filter(todo => todo.id !== action.id),\n      };\n    case SORT_BY_NAME:\n      return {\n        todos: [...state.todos].sort((a, b) => a.user.name.localeCompare(b.user.name)),\n      };\n    case SORT_BY_TITLE:\n      return {\n        todos: [...state.todos].sort((a, b) => a.title.localeCompare(b.title)),\n      };\n    case SORT_BY_COMPLETED:\n      return {\n        todos: [...state.todos].sort((a, b) => Number(a.completed) - Number(b.completed)),\n      };\n    default:\n      return state;\n  }\n};\n\nexport const store = createStore<InitialState, DispatchAction, null, null>(reduser);\n","export const LOAD_TODOS = 'LOAD_TODOS';\nexport const REMOVE_TODO = 'REMOVE_TODO';\nexport const SORT_BY_NAME = 'SORT_BY_NAME';\nexport const SORT_BY_TITLE = 'SORT_BY_TITLE';\nexport const SORT_BY_COMPLETED = 'SORT_BY_COMPLETED';\n","import { Todo, User } from './types';\n\n\nconst API_URL = 'https://jsonplaceholder.typicode.com/';\n\nfunction loadData<T>(url: string): Promise<T> {\n  return fetch(url)\n    .then(res => res.json());\n}\n\nexport const loadTodos = loadData<Todo[]>(`${API_URL}todos`);\nexport const loadUsers = loadData<User[]>(`${API_URL}users`);\n","import { TodosWithUsers } from './types';\nimport {\n  LOAD_TODOS, REMOVE_TODO, SORT_BY_NAME, SORT_BY_TITLE, SORT_BY_COMPLETED,\n} from './constants';\n\nexport const loadTodo = (value: TodosWithUsers) => ({ type: LOAD_TODOS, todos: value });\nexport const removeTodo = (value: number) => ({ type: REMOVE_TODO, id: value });\nexport const sortByName = ({ type: SORT_BY_NAME });\nexport const sortByTitle = ({ type: SORT_BY_TITLE });\nexport const sortByCompleted = ({ type: SORT_BY_COMPLETED });\n","import React, { FC } from 'react';\nimport { connect } from 'react-redux';\nimport { TodoWithUser } from '../types';\nimport { removeTodo } from '../actionCreators';\nimport './Todo.css';\n\ninterface Props {\n  todo: TodoWithUser;\n  onRemoveTodo: (id: number) => void;\n}\n\nconst Todo: FC<Props> = ({ todo, onRemoveTodo }) => {\n  return (\n    <tr>\n      <td>{todo.user.name}</td>\n      <td>{todo.title}</td>\n      <td>{todo.completed ? 'Complete' : 'Do it!'}</td>\n      <td>\n        <button\n          type=\"button\"\n          className=\"table__button table__button-remove\"\n          onClick={() => onRemoveTodo(todo.id)}\n        >\n          Remove\n        </button>\n      </td>\n    </tr>\n  );\n};\n\nconst mapDispatchToProps = ({ onRemoveTodo: removeTodo });\n\nexport default connect(null, mapDispatchToProps)(Todo);\n","import React, { FC } from 'react';\nimport { Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport { TodoWithUser } from '../types';\nimport Todo from '../Todo/Todo';\nimport { sortByName, sortByTitle, sortByCompleted } from '../actionCreators';\nimport './TodoList.css';\n\ninterface Props {\n  todos: TodoWithUser[];\n  handleSortByName(): void;\n  handleSortByTitle(): void;\n  handleSortByCompleted(): void;\n}\n\nconst TodoList: FC<Props> = (props) => {\n  const {\n    todos,\n    handleSortByName,\n    handleSortByTitle,\n    handleSortByCompleted,\n  } = props;\n\n  return (\n    <table className=\"table\">\n      <thead className=\"table__header\">\n        <tr>\n          <th>\n            <button\n              type=\"button\"\n              className=\"table__button table__button-header\"\n              onClick={handleSortByName}\n            >\n              Name\n            </button>\n          </th>\n          <th>\n            <button\n              type=\"button\"\n              className=\"table__button table__button-header\"\n              onClick={handleSortByTitle}\n            >\n              Todo\n            </button>\n          </th>\n          <th>\n            <button\n              type=\"button\"\n              className=\"table__button table__button-header\"\n              onClick={handleSortByCompleted}\n            >\n              Status\n            </button>\n          </th>\n          <th>\n            <span />\n          </th>\n        </tr>\n      </thead>\n      <tbody className=\"table__body\">\n        {todos.map(todo => (\n          <Todo\n            todo={todo}\n            key={todo.id}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  handleSortByName: () => dispatch(sortByName),\n  handleSortByTitle: () => dispatch(sortByTitle),\n  handleSortByCompleted: () => dispatch(sortByCompleted),\n});\n\nexport default connect(null, mapDispatchToProps)(TodoList);\n","import React, { FC, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { loadTodos, loadUsers } from './loadData';\nimport { TodosWithUsers, User, Todo } from './types';\nimport TodoList from './TodoList/TodoList';\nimport { InitialState } from './store';\nimport { loadTodo } from './actionCreators';\nimport './App.css';\n\ninterface Props {\n  todos: TodosWithUsers | [];\n  setTodos: (todoWithUser: TodosWithUsers) => void;\n}\n\nconst App: FC<Props> = ({ todos, setTodos }) => {\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleLoadTodos = () => {\n    setIsLoading(true);\n\n    Promise.all([\n      loadTodos,\n      loadUsers,\n    ])\n      .then(([todosFromApi, usersFromApi]) => {\n        const todoWithUser = todosFromApi.map((todo: Todo) => {\n          const user = usersFromApi.find(\n            (person: User) => todo.userId === person.id,\n          ) as User;\n\n          return { ...todo, user };\n        });\n\n        setTodos(todoWithUser);\n        setIsLoading(false);\n      });\n  };\n\n  return (\n    <>\n      <h1>Redux list of todos</h1>\n      {\n        todos.length\n          ? (\n            <div className=\"app\">\n              <TodoList\n                todos={todos}\n              />\n            </div>\n          )\n          : (\n            <button\n              className=\"button\"\n              type=\"button\"\n              onClick={handleLoadTodos}\n              disabled={isLoading}\n            >\n              Load Todo\n            </button>\n          )\n      }\n      {isLoading && (\n        <p className=\"loading-text\">Loading...</p>\n      )}\n    </>\n  );\n};\n\nconst mapStateToProps = (state: InitialState) => ({\n  todos: state.todos,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  setTodos: (todoWithUser: TodosWithUsers) => dispatch(loadTodo(todoWithUser)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}